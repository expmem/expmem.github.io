<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ruedas de Reconocimiento</title>
  <style>
    /* Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* General */
    body, html {
      height: 100%;
      font-family: Arial, sans-serif;
      font-family: 'Roboto', sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    }

    /* Full-screen containers */
    .full-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      padding: 20px;
      text-align: center;
    }

    .hidden { display: none; }

    /* Grid for photos */
    .photo-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      max-width: 600px;
      width: 90%;
    }

    .photo {
      width: 100%;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .photo:hover {
      transform: scale(1.05);
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      display: none;
    }

    .modal-content {
      background: #fff;
      padding: 20px;
      text-align: center;
      border-radius: 8px;
      max-width: 90%;
      width: 300px;
    }

    /* Buttons */
    button {
      padding: 10px 20px;
      margin-top: 10px;
      font-size: 16px;
      cursor: pointer;

            background-color: #673ab7;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
    }

    .confirm-button { background-color: #4CAF50; color: white; }
    .cancel-button { background-color: #f44336; color: white; }
  </style>
</head>
<body>

<div class="full-screen" id="nameScreen">
  <h2>Por favor, ingresa tu nombre</h2>
  <input type="text" id="nameInput" placeholder="Nombre" required>
  <p>¿Estás usando computadora o celular?</p>
  <button onclick="setDevice('Computadora')">Computadora</button>
  <button onclick="setDevice('Celular')">Celular</button>
</div>

<div class="full-screen hidden" id="instructionsStart">
  <h2>Instrucciones</h2>
  <p>A continuación verás dos ruedas de reconocimiento. Selecciona la imagen que creas correcta.</p>
  <button onclick="showLineup()">Comenzar</button>
</div>

<div class="full-screen hidden" id="lineupContainer">
  <h2>Rueda de Reconocimiento</h2>
  <div class="photo-grid" id="photoGrid">
    <!-- Photos will be dynamically added here -->
  </div>
</div>

<div class="modal" id="confirmationModal">
  <div class="modal-content">
    <p>¿Confirmar elección?</p>
    <img src="" alt="Selected" id="selectedPhoto" style="width:100px;">
    <br>
    <button class="confirm-button" id="confirmButton">Confirmar</button>
    <button class="cancel-button" id="cancelButton">Cancelar</button>
  </div>
</div>

<div class="full-screen hidden" id="instructionsQuestions">
  <h2>Instrucciones para las Preguntas</h2>
  <p>A continuación responderás a una serie de preguntas con "Sí" o "No".</p>
  <button onclick="startQuestions()">Comenzar</button>
</div>

<div class="full-screen hidden" id="questionContainer">
  <h2>Preguntas</h2>
  <div id="questionContent">
    <!-- Questions will be displayed here -->
  </div>
</div>

<div class="full-screen hidden" id="instructionsAdditionalQuestions">
  <h2>Instrucciones para la Segunda Parte</h2>
  <p>Ahora responderás una nueva serie de preguntas con "Sí" o "No".</p>
  <button onclick="startAdditionalQuestions()">Comenzar</button>
</div>

<div class="full-screen hidden" id="additionalQuestionContainer">
  <h2>Preguntas Finales</h2>
  <div id="additionalQuestionContent">
    <!-- Additional Questions will be displayed here -->
  </div>
</div>

<script>
  // Simulated photos for each lineup
  const lineups = [
    ["1.png", "2.png", "3.png", "4.png", "5.png", "6.png"],
    ["7.png", "8.png", "9.png", "10.png", "11.png", "12.png"]
  ];

  // Questions for the first questionnaire
  const questions = [
    "¿Pregunta 1?", "¿Pregunta 2?", "¿Pregunta 3?", "¿Pregunta 4?", 
    "¿Pregunta 5?", "¿Pregunta 6?", "¿Pregunta 7?", "¿Pregunta 8?",
    "¿Pregunta 9?", "¿Pregunta 10?"
  ];

  // Additional questions for the final questionnaire
  const additionalQuestions = [
    "¿Pregunta adicional 1?", "¿Pregunta adicional 2?", "¿Pregunta adicional 3?", 
    "¿Pregunta adicional 4?", "¿Pregunta adicional 5?", "¿Pregunta adicional 6?", 
    "¿Pregunta adicional 7?", "¿Pregunta adicional 8?", "¿Pregunta adicional 9?", 
    "¿Pregunta adicional 10?", "¿Pregunta adicional 11?", "¿Pregunta adicional 12?"
  ];

  let currentLineup = 0;
  let currentQuestion = 0;
  let currentAdditionalQuestion = 0;
  let userName = "";
  let userDevice = "";
  const lineupContainer = document.getElementById("lineupContainer");
  const nameScreen = document.getElementById("nameScreen");
  const instructionsStart = document.getElementById("instructionsStart");
  const questionContainer = document.getElementById("questionContainer");
  const photoGrid = document.getElementById("photoGrid");
  const confirmationModal = document.getElementById("confirmationModal");
  const selectedPhoto = document.getElementById("selectedPhoto");
  const confirmButton = document.getElementById("confirmButton");
  const cancelButton = document.getElementById("cancelButton");
  const instructionsQuestions = document.getElementById("instructionsQuestions");
  const instructionsAdditionalQuestions = document.getElementById("instructionsAdditionalQuestions");
  const questionContent = document.getElementById("questionContent");
  const additionalQuestionContainer = document.getElementById("additionalQuestionContainer");
  const additionalQuestionContent = document.getElementById("additionalQuestionContent");

  // Store device info
  function setDevice(device) {
    userName = document.getElementById("nameInput").value;
    if (userName === "") {
      alert("Por favor, ingresa tu nombre.");
      return;
    }
    userDevice = device;
    nameScreen.classList.add("hidden");
    instructionsStart.classList.remove("hidden");
  }

  // Start recognition lineup
  function showLineup() {
    instructionsStart.classList.add("hidden");
    lineupContainer.classList.remove("hidden");
    loadLineup();
  }

  // Load photos for the current lineup
  function loadLineup() {
    photoGrid.innerHTML = "";
    lineups[currentLineup].forEach(photo => {
      const img = document.createElement("img");
      img.src = photo;
      img.classList.add("photo");
      img.onclick = () => openConfirmationModal(photo);
      photoGrid.appendChild(img);
    });
  }

  // Open confirmation modal
  function openConfirmationModal(photo) {
    selectedPhoto.src = photo;
    confirmationModal.style.display = "flex";
  }

  // Close confirmation modal
  function closeConfirmationModal() {
    confirmationModal.style.display = "none";
  }

  // Confirm selection
  confirmButton.onclick = () => {
    closeConfirmationModal();
    currentLineup++;
    if (currentLineup < lineups.length) {
      loadLineup(); // Load next lineup
    } else {
      lineupContainer.classList.add("hidden");
      instructionsQuestions.classList.remove("hidden");
    }
  };

  // Cancel selection
  cancelButton.onclick = closeConfirmationModal;

  // Start first question set after instruction screen
  function startQuestions() {
    instructionsQuestions.classList.add("hidden");
    questionContainer.classList.remove("hidden");
    showQuestion();
  }

  // Show current question in the first set
  function showQuestion() {
    if (currentQuestion < questions.length) {
      questionContent.innerHTML = `<p>${questions[currentQuestion]}</p>
        <button onclick="answerQuestion('Sí')">Sí</button>
        <button onclick="answerQuestion('No')">No</button>`;
    } else {
      questionContainer.classList.add("hidden");
      instructionsAdditionalQuestions.classList.remove("hidden");
    }
  }

  // Answer a question in the first set
  function answerQuestion(answer) {
    console.log(`Respuesta: ${answer} a ${questions[currentQuestion]}`);
    currentQuestion++;
    showQuestion();
  }

  // Start additional question set
  function startAdditionalQuestions() {
    instructionsAdditionalQuestions.classList.add("hidden");
    additionalQuestionContainer.classList.remove("hidden");
    showAdditionalQuestion();
  }

  // Show current question in the additional set
  function showAdditionalQuestion() {
    if (currentAdditionalQuestion < additionalQuestions.length) {
      additionalQuestionContent.innerHTML = `<p>${additionalQuestions[currentAdditionalQuestion]}</p>
        <button onclick="answerAdditionalQuestion('Sí')">Sí</button>
        <button onclick="answerAdditionalQuestion('No')">No</button>`;
    } else {
      additionalQuestionContainer.innerHTML = `<h2>¡Gracias por participar!</h2>`;
    }
  }

  // Answer a question in the additional set
  function answerAdditionalQuestion(answer) {
    console.log(`Respuesta: ${answer} a ${additionalQuestions[currentAdditionalQuestion]}`);
    currentAdditionalQuestion++;
    showAdditionalQuestion();
  }
</script>
</body>
</html>
